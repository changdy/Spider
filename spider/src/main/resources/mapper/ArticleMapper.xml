<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.smzdm.mapper.ArticleMapper">
    <delete id="deleteByIDList">
        DELETE FROM article WHERE article_id IN
        <foreach item="id" collection="list" open="(" close=")" separator=",">
            #{id}
        </foreach>
    </delete>
    <insert id="insertList" parameterType="java.util.List">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Sat Jan 20 22:48:34 CST 2018.
        -->
        insert into article (article_id, title, content,
        content_all, type, price,
        yh_type, pic, url, category,
        brand, rmb_price, is_discovery,
        mall, channel, time_sort,
        date)
        values
        <foreach collection="list" item="item" separator=",">
            (#{item.articleId,jdbcType=INTEGER}, #{item.title,jdbcType=VARCHAR}, #{item.content,jdbcType=VARCHAR},
            #{item.contentAll,jdbcType=VARCHAR}, CAST(#{item.type,jdbcType=VARCHAR} AS ARTICLE_TYPE), #{item.price,jdbcType=VARCHAR},
            CAST(#{item.yhType,jdbcType=VARCHAR} AS yh_type), #{item.pic,jdbcType=VARCHAR}, #{item.url,jdbcType=VARCHAR}, #{item.category,jdbcType=ARRAY,typeHandler=com.smzdm.typehandler.ShortArrayHandler},
            #{item.brand,jdbcType=VARCHAR}, #{item.rmbPrice,jdbcType=DOUBLE}, #{item.isDiscovery,jdbcType=BIT},
            CAST(#{item.mall,jdbcType=VARCHAR} AS ARTICLE_MALL), CAST(#{item.channel,jdbcType=VARCHAR} AS ARTICLE_CHANNEL), #{item.timeSort,jdbcType=BIGINT},
            #{item.date,jdbcType=DATE})
        </foreach>
    </insert>

</mapper>